<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku TikTok</title>
    <style>
        /* DESIGN (CSS) */
        body { background-color: #121212; color: #ffffff; font-family: 'Arial', sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { text-align: center; width: 100%; max-width: 500px; }
        .accent { color: #00f2ea; }
        #game-board { display: grid; grid-template-columns: repeat(9, 1fr); gap: 1px; background-color: #555; border: 2px solid #00f2ea; margin: 20px auto; width: 95%; max-width: 400px; aspect-ratio: 1; }
        .tile { background-color: #1e1e1e; display: flex; justify-content: center; align-items: center; font-size: 1.2rem; font-weight: bold; cursor: pointer; user-select: none; }
        .tile:nth-child(3n) { border-right: 2px solid #555; }
        .tile:nth-child(9n) { border-right: none; }
        .tile:nth-child(n+19):nth-child(-n+27), .tile:nth-child(n+46):nth-child(-n+54) { border-bottom: 2px solid #555; }
        .tile.selected { background-color: #333; box-shadow: inset 0 0 10px #00f2ea; }
        .tile.prefilled { color: #888; pointer-events: none; }
        .tile.error { color: #ff4d4d; }
        .numpad { display: flex; justify-content: center; gap: 5px; margin-bottom: 20px; }
        .num-btn { background-color: #333; color: white; border: 1px solid #00f2ea; padding: 10px 15px; border-radius: 5px; cursor: pointer; font-size: 1.1rem; }
        .actions button { background-color: #00f2ea; border: none; padding: 10px 20px; color: #000; font-weight: bold; border-radius: 20px; cursor: pointer; margin: 0 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>SUDOKU <span class="accent">TIKTOK</span></h1>
        <div id="game-board"></div>
        <div class="controls">
            <div class="numpad" id="numpad"></div>
            <div class="actions">
                <button onclick="newGame()">Reset</button>
                <button onclick="checkSolution()">VÃ©rifier</button>
            </div>
            <p id="message"></p>
        </div>
    </div>
    <script>
        // LOGIQUE (JS)
        let selectedTile = null; let solution = [];
        window.onload = function() { createBoardUI(); createNumpad(); newGame(); };
        function createBoardUI() {
            const boardDiv = document.getElementById("game-board");
            for (let r = 0; r < 9; r++) {
                for (let c = 0; c < 9; c++) {
                    let tile = document.createElement("div");
                    tile.id = r + "-" + c; tile.classList.add("tile");
                    tile.addEventListener("click", selectTile); boardDiv.appendChild(tile);
                }
            }
        }
        function createNumpad() {
            const numpad = document.getElementById("numpad");
            for (let i = 1; i <= 9; i++) {
                let btn = document.createElement("button");
                btn.innerText = i; btn.classList.add("num-btn");
                btn.addEventListener("click", () => fillTile(i)); numpad.appendChild(btn);
            }
        }
        function selectTile() {
            if (selectedTile) selectedTile.classList.remove("selected");
            selectedTile = this; selectedTile.classList.add("selected");
        }
        function fillTile(num) {
            if (selectedTile && !selectedTile.classList.contains("prefilled")) {
                selectedTile.innerText = num;
            }
        }
        function newGame() {
            const tiles = document.querySelectorAll(".tile");
            tiles.forEach(t => { t.innerText = ""; t.classList.remove("prefilled", "error", "selected"); });
            document.getElementById("message").innerText = "";
            let base = ["534678912", "672195348", "198342567", "859761423", "426853791", "713924856", "961537284", "287419635", "345286179"];
            solution = base.map(row => row.split(''));
            for (let r = 0; r < 9; r++) {
                for (let c = 0; c < 9; c++) {
                    if (Math.random() > 0.5) {
                        let tile = document.getElementById(r + "-" + c);
                        tile.innerText = solution[r][c]; tile.classList.add("prefilled");
                    }
                }
            }
        }
        function checkSolution() {
            let errors = 0;
            for (let r = 0; r < 9; r++) {
                for (let c = 0; c < 9; c++) {
                    let tile = document.getElementById(r + "-" + c);
                    if (tile.innerText != solution[r][c]) { tile.classList.add("error"); errors++; }
                    else { tile.classList.remove("error"); }
                }
            }
            let msg = document.getElementById("message");
            if (errors === 0) { msg.innerText = "GAGNÃ‰ ! ðŸ’¸"; msg.style.color = "#00f2ea"; }
            else { msg.innerText = "Erreurs trouvÃ©es..."; msg.style.color = "#ff4d4d"; }
        }
    </script>
</body>
</html>
